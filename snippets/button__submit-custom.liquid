{% assign button = button | default: 'addToCart' %}
{% assign color = button | append: 'Color' %}
{% assign color = settings[color] %}
{% assign type = button | append: 'Type' %}
{% assign type = settings[type] %}
{%- assign icon = button | append: 'Icon' -%}
{%- assign icon = settings[icon] -%}
{% if price == 0 and settings.freeShipping %}
  {% assign text = settings.freeShippingText %}
{% else %}
  {% if text == blank %}
    {% assign text = 'general.buttons.add_to_cart' | t %}
  {% endif %}
{% endif %}

{% if variant %}
  {% unless quantity %}
    {% assign quantity = 1 %}
  {% endunless %}
{% endif %}
{% assign style = type | default: 'primary' %}
{% assign buttonStyle = style | append: 'ButtonStyle' %}
<button
  type="submit"
  {{ disabled }}
  {% if name %}
  name="{{name}}"
  {% endif %}
  {% if variant %}
  onclick="BoosterTheme.cart.addToCartJSON(event, {items: [{id: {{variant}}, quantity: {{quantity}}}]});"
  {% else %}
  onclick="BoosterTheme.cart.addToCart(event);"
  {% endif %}
  class="button button--{{-style}} button--{{-settings[buttonStyle]}}  button--{{-style-}}__{{-settings[buttonStyle]}} {{class}}">
  {% render 'icon-cart-white' %}
  <span class="text-sm uppercase font-extrabold text-white">BUY</span>
</button>